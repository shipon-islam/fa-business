(()=>{var e={};e.id=7841,e.ids=[7841],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6559:(e,s,r)=>{Promise.resolve().then(r.bind(r,91373))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25085:(e,s,r)=>{"use strict";r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Shipon Islam\\\\Desktop\\\\Next-Project\\\\fabusiness\\\\src\\\\components\\\\dashboard\\\\Navbar.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\components\\dashboard\\Navbar.jsx","default")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33465:(e,s,r)=>{"use strict";r.d(s,{default:()=>u});var t=r(60687),a=r(47034),o=r(16189);let n=async(e="/")=>{if(!(await fetch("/api/auth/logout",{method:"POST"})).ok)throw Error("Not authenticated");(0,o.redirect)(e)};var l=r(30474),i=r(85814),d=r.n(i),c=r(43210),p=r(81006);let u=()=>{let[e,s]=(0,c.useState)(!1),[r,o]=(0,c.useState)(!1),{user:i}=(0,a.A)();return(0,t.jsxs)("div",{className:" py-6 px-10 bg-white shadow ",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-2xl font-semibold capitalize",children:["Hello, ",i?i?.name:"John"," \uD83D\uDC4B"]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{className:"cursor-pointer md:hidden",onClick:()=>s(e=>!e),children:e?(0,t.jsx)(p.XmarkIcon,{className:"text-gray-300"}):(0,t.jsx)(p.SearchIcon,{className:"text-gray-300 "})}),(0,t.jsxs)("div",{className:"relative hidden md:block",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search",className:"border-2 border-gray-300 px-4 py-1 rounded-xl focus:outline-0 h-full placeholder:text-gray-400"}),(0,t.jsx)(p.SearchIcon,{className:"text-gray-300 absolute top-1/2 -translate-y-1/2 right-3"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>o(e=>!e),className:"cursor-pointer",children:(0,t.jsx)(l.default,{src:i?.avatar?`/api/uploads/user/${i?.avatar}`:"/avatar.png",className:"size-10 object-cover rounded-full border border-gray-200",width:100,height:100,alt:"avatar"})}),r&&(0,t.jsx)("div",{className:"absolute top-12 right-0 bg-white w-48 p-2 border border-gray-400 rounded-md",children:(0,t.jsxs)("ul",{className:"space-y-4 mt-2",children:[(0,t.jsx)("li",{className:"",children:(0,t.jsxs)(d(),{href:"/dashboard/account",className:"flex items-center gap-2 text-gray-700 hover:text-blue-500 group",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{fill:"currentColor",d:"M6.5 7.5a5.5 5.5 0 1 1 11 0a5.5 5.5 0 0 1-11 0M3 19a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v3H3z"})}),(0,t.jsx)("span",{className:"group-hover:underline",children:"Account"})]})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:async()=>await n(),className:"bg-blue-500 capitalize w-full rounded-lg py-1 text-white cursor-pointer",children:"logout"})})]})})]})]})]}),e&&(0,t.jsxs)("div",{className:"relative mt-4 md:hidden",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search",className:"border-2 border-gray-300 px-4 py-1 rounded-xl focus:outline-0 h-full placeholder:text-gray-400 w-full"}),(0,t.jsx)(p.SearchIcon,{className:"text-gray-300 absolute top-1/2 -translate-y-1/2 right-3"})]})]})}},33873:e=>{"use strict";e.exports=require("path")},47005:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(60687),a=r(3250);let o=({children:e})=>(0,t.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-md",children:e});var n=r(81006),l=r(47034),i=r(16189),d=r(43210),c=r(37590);function p(){let{user:e}=(0,l.A)(),s=(0,d.useRef)(null);(0,i.useRouter)();let[r,p]=(0,d.useState)(!1),u=(0,d.useRef)(""),[h,x]=(0,d.useState)(!1),m=async s=>{let r=s.target.files[0];if(!r)return;let t=new FormData;t.append("avatar",r),e?.avatar&&t.append("oldAvatar",e.avatar);try{let s=await fetch(`/api/users/${e.id}`,{method:"PUT",body:t});if(!s.ok)throw Error("Failed to upload profile picture");let r=await s.json();window.location.reload(),console.log(r)}catch(e){console.error("Error uploading profile picture:",e)}},f=async s=>{s.preventDefault();let r=u?.current?.value;if(!r)return;let t=new FormData;t.append("name",r);try{x(!0);let s=await fetch(`/api/users/${e.id}`,{method:"PUT",body:t});if(!s.ok)throw Error("Failed to change name!");await s.json(),x(!1),window.location.reload()}catch(e){c.Ay.error(e.message),x(!1),console.error("Failed to change name!",e)}};return(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"max-w-[400px] mx-auto mt-10",children:(0,t.jsxs)(o,{className:"",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Account Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{children:"Profile picture"}),(0,t.jsx)("div",{className:"border w-fit rounded-md",children:(0,t.jsx)("img",{src:e?.avatar?`/api/uploads/user/${e?.avatar}`:"/avatar.png",alt:"User Avatar",className:"w-40 h-40 "})}),(0,t.jsx)("input",{ref:s,type:"file",accept:"image/*",onChange:m,hidden:!0}),(0,t.jsx)("button",{onClick:()=>s.current.click(),className:"bg-gold px-4 py-1 rounded-lg mt-4 cursor-pointer",children:"Change Profile"})]}),(0,t.jsxs)("div",{className:"space-y-2 mt-8",children:[(0,t.jsxs)("p",{className:"flex gap-1 items-center",children:[(0,t.jsx)("strong",{children:"Name:"})," ",e?.name," ",(0,t.jsx)("button",{onClick:()=>p(e=>!e),children:(0,t.jsx)(n.EditIcon,{className:"hover:text-gold cursor-pointer"})})]}),r&&(0,t.jsxs)("form",{onSubmit:f,className:"gap-1 flex",children:[(0,t.jsx)("input",{type:"text",ref:u,defaultValue:e?.name,className:"border border-gold rounded-md py-0.5 px-2 focus:outline-none"}),(0,t.jsx)(a.A,{name:h?"Changing...":"Change",className:"!py-0.5 !px-2 !text-base"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",e?.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Role:"})," ",e?.role]})]})]})})})}},47515:(e,s,r)=>{"use strict";r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Shipon Islam\\\\Desktop\\\\Next-Project\\\\fabusiness\\\\src\\\\components\\\\dashboard\\\\Sidebar.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\components\\dashboard\\Sidebar.jsx","default")},48240:(e,s,r)=>{"use strict";r.d(s,{n:()=>d,z:()=>i});var t=r(87806),a=r(77412);let o=process.env.JWT_SECRET,n=parseInt(process.env.JWT_TOKEN_EXPIRED||"86400"),l=new TextEncoder().encode(o);async function i(e){return await new t.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(`${n}s`).sign(l)}async function d(e){try{let{payload:s}=await (0,a.V)(e,l);if("admin"===s.role)return s;return null}catch(e){return console.error("Token verification failed:",e.message),null}}},50822:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(37413),a=r(25085),o=r(47515),n=r(48240),l=r(44999),i=r(39916);async function d({children:e}){let s=await (0,l.UL)(),r=s.get("token")?.value;return await (0,n.n)(r)||(0,i.redirect)("/"),(0,t.jsxs)("div",{className:"flex font-moulpali",children:[(0,t.jsx)(o.default,{}),(0,t.jsxs)("div",{className:"flex-1 bg-[#f4f6fb] min-h-screen ",children:[(0,t.jsx)(a.default,{}),(0,t.jsx)("div",{className:"px-8 ",children:e})]})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66807:(e,s,r)=>{Promise.resolve().then(r.bind(r,47005))},76771:(e,s,r)=>{Promise.resolve().then(r.bind(r,25085)),Promise.resolve().then(r.bind(r,47515))},77957:(e,s,r)=>{"use strict";r.d(s,{default:()=>i});var t=r(60687),a=r(85814),o=r.n(a),n=r(43210),l=r(81006);let i=()=>{let[e,s]=(0,n.useState)(!1);return(0,t.jsx)("div",{className:`bg-[#0A1F44] text-white h-screen w-72 sm:w-96 p-6 flex flex-col gap-8 fixed lg:sticky top-0 z-99  ${e?"left-[0px]":"-left-[290px] sm:-left-[385px]"}`,children:(0,t.jsxs)("div",{className:"relative w-full h-full",children:[(0,t.jsx)("button",{onClick:()=>s(e=>!e),className:"absolute top-32 sm:top-20 -right-[60px]  bg-[#0A1F44] h-10 w-10 grid place-items-center rounded-r-full lg:hidden cursor-pointer",children:e?(0,t.jsx)(l.RightArrowIcon,{}):(0,t.jsx)(l.LeftArrowIcon,{})}),(0,t.jsx)("h1",{className:"text-3xl font-bold px-4",children:"Admin"}),(0,t.jsxs)("nav",{className:"flex flex-col gap-y-8 text-lg mt-8",children:[(0,t.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,t.jsx)(l.BlogPostIcon,{})," ",(0,t.jsx)("span",{children:"Blog Post"})]}),(0,t.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard/client-feedback",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,t.jsx)(l.FeedbackClientIcon,{}),(0,t.jsx)("span",{children:"Client Feedback"})]}),(0,t.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard/users",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,t.jsx)(l.ClientIcon,{}),(0,t.jsx)("span",{children:"Users"})]}),(0,t.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard/subscribers",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,t.jsx)(l.SubscribeIcon,{}),(0,t.jsx)("span",{children:"Subscribers"})]})]}),(0,t.jsxs)(o(),{onClick:()=>s(!1),href:"/",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue text-lg absolute bottom-0 left-0 ",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,t.jsx)("span",{children:"Back home"})]})]})})}},79551:e=>{"use strict";e.exports=require("url")},90843:(e,s,r)=>{Promise.resolve().then(r.bind(r,33465)),Promise.resolve().then(r.bind(r,77957))},91373:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Shipon Islam\\\\Desktop\\\\Next-Project\\\\fabusiness\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\account\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\account\\page.jsx","default")},99104:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var t=r(65239),a=r(48088),o=r(88170),n=r.n(o),l=r(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(s,i);let d={children:["",{children:["(dashboard)",{children:["dashboard",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,91373)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\account\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,50822)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\layout.js"]}]},{forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,75535)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,43867)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\not-found.jsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\account\\page.jsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/account/page",pathname:"/dashboard/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,3740,4553,6994,2238],()=>r(99104));module.exports=t})();