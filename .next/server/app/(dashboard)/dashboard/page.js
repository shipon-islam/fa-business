(()=>{var e={};e.id=6337,e.ids=[6337],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15294:(e,s,t)=>{Promise.resolve().then(t.bind(t,68289))},16544:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=t(65239),a=t(48088),o=t(88170),n=t.n(o),i=t(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let d={children:["",{children:["(dashboard)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,69037)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,50822)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\layout.js"]}]},{forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,75535)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,43867)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\not-found.jsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\page.jsx"],p={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25085:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Shipon Islam\\\\Desktop\\\\Next-Project\\\\fabusiness\\\\src\\\\components\\\\dashboard\\\\Navbar.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\components\\dashboard\\Navbar.jsx","default")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33465:(e,s,t)=>{"use strict";t.d(s,{default:()=>h});var r=t(60687),a=t(47034),o=t(16189);let n=async(e="/")=>{if(!(await fetch("/api/auth/logout",{method:"POST"})).ok)throw Error("Not authenticated");(0,o.redirect)(e)};var i=t(30474),l=t(85814),d=t.n(l),c=t(43210),p=t(81006);let h=()=>{let[e,s]=(0,c.useState)(!1),[t,o]=(0,c.useState)(!1),{user:l}=(0,a.A)();return(0,r.jsxs)("div",{className:" py-6 px-10 bg-white shadow ",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold capitalize",children:["Hello, ",l?l?.name:"John"," \uD83D\uDC4B"]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{className:"cursor-pointer md:hidden",onClick:()=>s(e=>!e),children:e?(0,r.jsx)(p.XmarkIcon,{className:"text-gray-300"}):(0,r.jsx)(p.SearchIcon,{className:"text-gray-300 "})}),(0,r.jsxs)("div",{className:"relative hidden md:block",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search",className:"border-2 border-gray-300 px-4 py-1 rounded-xl focus:outline-0 h-full placeholder:text-gray-400"}),(0,r.jsx)(p.SearchIcon,{className:"text-gray-300 absolute top-1/2 -translate-y-1/2 right-3"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>o(e=>!e),className:"cursor-pointer",children:(0,r.jsx)(i.default,{src:l?.avatar?`/api/uploads/user/${l?.avatar}`:"/avatar.png",className:"size-10 object-cover rounded-full border border-gray-200",width:100,height:100,alt:"avatar"})}),t&&(0,r.jsx)("div",{className:"absolute top-12 right-0 bg-white w-48 p-2 border border-gray-400 rounded-md",children:(0,r.jsxs)("ul",{className:"space-y-4 mt-2",children:[(0,r.jsx)("li",{className:"",children:(0,r.jsxs)(d(),{href:"/dashboard/account",className:"flex items-center gap-2 text-gray-700 hover:text-blue-500 group",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:"currentColor",d:"M6.5 7.5a5.5 5.5 0 1 1 11 0a5.5 5.5 0 0 1-11 0M3 19a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v3H3z"})}),(0,r.jsx)("span",{className:"group-hover:underline",children:"Account"})]})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:async()=>await n(),className:"bg-blue-500 capitalize w-full rounded-lg py-1 text-white cursor-pointer",children:"logout"})})]})})]})]})]}),e&&(0,r.jsxs)("div",{className:"relative mt-4 md:hidden",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search",className:"border-2 border-gray-300 px-4 py-1 rounded-xl focus:outline-0 h-full placeholder:text-gray-400 w-full"}),(0,r.jsx)(p.SearchIcon,{className:"text-gray-300 absolute top-1/2 -translate-y-1/2 right-3"})]})]})}},33873:e=>{"use strict";e.exports=require("path")},47515:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Shipon Islam\\\\Desktop\\\\Next-Project\\\\fabusiness\\\\src\\\\components\\\\dashboard\\\\Sidebar.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\components\\dashboard\\Sidebar.jsx","default")},48240:(e,s,t)=>{"use strict";t.d(s,{n:()=>d,z:()=>l});var r=t(87806),a=t(77412);let o=process.env.JWT_SECRET,n=parseInt(process.env.JWT_TOKEN_EXPIRED||"86400"),i=new TextEncoder().encode(o);async function l(e){return await new r.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(`${n}s`).sign(i)}async function d(e){try{let{payload:s}=await (0,a.V)(e,i);if("admin"===s.role)return s;return null}catch(e){return console.error("Token verification failed:",e.message),null}}},50822:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(37413),a=t(25085),o=t(47515),n=t(48240),i=t(44999),l=t(39916);async function d({children:e}){let s=await (0,i.UL)(),t=s.get("token")?.value;return await (0,n.n)(t)||(0,l.redirect)("/"),(0,r.jsxs)("div",{className:"flex font-moulpali",children:[(0,r.jsx)(o.default,{}),(0,r.jsxs)("div",{className:"flex-1 bg-[#f4f6fb] min-h-screen ",children:[(0,r.jsx)(a.default,{}),(0,r.jsx)("div",{className:"px-8 ",children:e})]})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68289:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(60687),a=t(3250),o=t(30485);let n=["image/jpg","image/jpeg","image/png","image/webp"],i=e=>o.Ik({title:o.Yj().min(5,"minimum 3 character").required("title is required"),content:o.Yj().min(10,"minimum 10 character").required("Content is required"),image:o.gl().test("required","Image is required",s=>!!e||s&&s.length>0).test("fileSize","File too large",s=>!!e||!s||!s[0]||s[0].size<=2097152).test("fileFormat","Unsupported Format",s=>!!e||!s||!s[0]||n.includes(s[0].type))}).required();var l=t(10268),d=t(30474),c=t(43210),p=t(27605),h=t(37590);function u(){let[e,s]=(0,c.useState)([]),[t,o]=(0,c.useState)(!1),[n,u]=(0,c.useState)(!1),[m,x]=(0,c.useState)(!1),[b,g]=(0,c.useState)({id:"",existingImage:""}),{reset:f,register:j,handleSubmit:v,formState:{errors:N}}=(0,p.mN)({resolver:(0,l.t)(i(n))}),y=async t=>{if(confirm("Are you sure you want to delete this item?"))try{if(!(await fetch(`/api/blog/${t}`,{method:"DELETE"})).ok)throw Error("Network response was not ok");s(e.filter(e=>e._id!==t)),h.Ay.success("Blog deleted successfully!")}catch(e){console.error("There was a problem with the delete operation:",e),h.Ay.error(e.message)}},w=async e=>{let s=new FormData;if(s.append("title",e.title),s.append("content",e.content),e.image&&e.image.length>0&&s.append("image",e.image[0]),o(!0),n){s.append("existingImage",b.existingImage);try{let e=await fetch(`/api/blog/${b.id}`,{method:"PUT",body:s}),t=await e.json();t&&(console.log("edited blog",t),f({title:"",content:"",image:[]}),o(!1),u(!1),x(!m),h.Ay.success("Blog updated successfully!"))}catch(e){h.Ay.error(e.message),console.error("Error updating blog:",e)}}else try{let e=await fetch("/api/blog",{method:"POST",body:s});await e.json()&&(f(),o(!1),u(!1),x(!m),h.Ay.success("Blog created successfully!"))}catch(e){console.log(e),o(!1),h.Ay.error(e.message)}},k=e=>{u(!0),g({id:e._id,existingImage:e.image}),f({title:e.title,content:e.content,image:[]}),window.scrollTo(0,0,{behavior:"smooth"})};return(0,r.jsxs)("div",{className:"md:w-4/5 mx-auto",children:[(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold",children:"Create New Post"}),(0,r.jsxs)("form",{onSubmit:v(w),className:"grid gap-y-8 mt-10",action:"#",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",className:"border border-gray-300 p-4 rounded-md w-full block",placeholder:"Post Title",...j("title")}),N.title&&(0,r.jsx)("p",{className:"text-red-500 ml-1 ",children:N.title.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("textarea",{placeholder:"Write a Post...",className:"border border-gray-300 w-full focus:outline-0 rounded-md p-3 min-h-36 ",...j("content")}),N.content&&(0,r.jsx)("p",{className:"text-red-500 ml-1 ",children:N.content.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",className:"border border-gray-300 p-4 rounded-md accent-amber-50 w-full block",...j("image")}),N.image&&(0,r.jsx)("p",{className:"text-red-500 ml-1 ",children:N.image.message})]}),n?(0,r.jsx)(a.A,{name:t?"Editing...":"Edit Post",className:"!bg-blue-600 text-white rounded-lg  w-fit"}):(0,r.jsx)(a.A,{name:t?"Publishing...":"Publish",className:"!bg-blue-600 text-white rounded-lg  w-fit"})]})]}),(0,r.jsxs)("div",{className:"mt-20",children:[(0,r.jsx)("h1",{className:"mb-5 font-bold text-xl",children:"Recent Posts (Last 5)"}),0===e.length&&(0,r.jsx)("p",{className:"text-gray-500 text-2xl mt-8",children:"There is no blog yet!"}),(0,r.jsx)("div",{className:"grid gap-8 lg:grid-cols-2 ",children:e?.map(e=>(0,r.jsxs)("div",{className:"custom-shadow p-4 rounded-md ",children:[(0,r.jsx)("h5",{className:"font-semibold  py-1",children:e.title}),(0,r.jsx)(d.default,{src:`/api/uploads/blog/${e.image}`,width:700,height:200,alt:"post",className:"rounded-md object-cover w-full h-40"}),(0,r.jsx)("h5",{className:"my-2",children:e.content}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>y(e._id),className:"text-gold cursor-pointer",children:"Delete"}),(0,r.jsx)("button",{onClick:()=>k(e),className:"text-blue-600 cursor-pointer",children:"Edit"})]})]},e._id))})]}),(0,r.jsx)("div",{className:"h-screen"})]})}},69037:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Shipon Islam\\\\Desktop\\\\Next-Project\\\\fabusiness\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\page.jsx","default")},76771:(e,s,t)=>{Promise.resolve().then(t.bind(t,25085)),Promise.resolve().then(t.bind(t,47515))},77957:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(60687),a=t(85814),o=t.n(a),n=t(43210),i=t(81006);let l=()=>{let[e,s]=(0,n.useState)(!1);return(0,r.jsx)("div",{className:`bg-[#0A1F44] text-white h-screen w-72 sm:w-96 p-6 flex flex-col gap-8 fixed lg:sticky top-0 z-99  ${e?"left-[0px]":"-left-[290px] sm:-left-[385px]"}`,children:(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)("button",{onClick:()=>s(e=>!e),className:"absolute top-32 sm:top-20 -right-[60px]  bg-[#0A1F44] h-10 w-10 grid place-items-center rounded-r-full lg:hidden cursor-pointer",children:e?(0,r.jsx)(i.RightArrowIcon,{}):(0,r.jsx)(i.LeftArrowIcon,{})}),(0,r.jsx)("h1",{className:"text-3xl font-bold px-4",children:"Admin"}),(0,r.jsxs)("nav",{className:"flex flex-col gap-y-8 text-lg mt-8",children:[(0,r.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,r.jsx)(i.BlogPostIcon,{})," ",(0,r.jsx)("span",{children:"Blog Post"})]}),(0,r.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard/client-feedback",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,r.jsx)(i.FeedbackClientIcon,{}),(0,r.jsx)("span",{children:"Client Feedback"})]}),(0,r.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard/users",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,r.jsx)(i.ClientIcon,{}),(0,r.jsx)("span",{children:"Users"})]}),(0,r.jsxs)(o(),{onClick:()=>s(!1),href:"/dashboard/subscribers",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue ",children:[(0,r.jsx)(i.SubscribeIcon,{}),(0,r.jsx)("span",{children:"Subscribers"})]})]}),(0,r.jsxs)(o(),{onClick:()=>s(!1),href:"/",className:"flex items-center gap-2 py-2 px-4 rounded-md hover:bg-deepBlue text-lg absolute bottom-0 left-0 ",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,r.jsx)("span",{children:"Back home"})]})]})})}},79551:e=>{"use strict";e.exports=require("url")},90843:(e,s,t)=>{Promise.resolve().then(t.bind(t,33465)),Promise.resolve().then(t.bind(t,77957))},91734:(e,s,t)=>{Promise.resolve().then(t.bind(t,69037))}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,3740,4553,6994,7864,2238],()=>t(16544));module.exports=r})();