(()=>{var e={};e.id=7898,e.ids=[7898],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},42690:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Shipon Islam\\\\Desktop\\\\Next-Project\\\\fabusiness\\\\src\\\\app\\\\(dashboard)\\\\dashboard\\\\users\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\users\\page.jsx","default")},50386:(e,s,r)=>{Promise.resolve().then(r.bind(r,42690))},53032:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>h,tree:()=>l});var t=r(65239),a=r(48088),o=r(88170),n=r.n(o),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(s,d);let l={children:["",{children:["(dashboard)",{children:["dashboard",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,42690)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\users\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,50822)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\layout.js"]}]},{forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,75535)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,43867)),"C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\not-found.jsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["C:\\Users\\Shipon Islam\\Desktop\\Next-Project\\fabusiness\\src\\app\\(dashboard)\\dashboard\\users\\page.jsx"],c={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/dashboard/users/page",pathname:"/dashboard/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64696:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(60687),a=r(43210),o=r(37590),n=r(19045);function i(){let[e,s]=(0,a.useState)([]),r=async r=>{if(confirm("Are you sure you want to delete this item?"))try{if(!(await fetch(`/api/users/${r}`,{method:"DELETE"})).ok)throw Error("Network response was not ok");s(e.filter(e=>e._id!==r)),o.Ay.success("User deleted successfully!")}catch(e){o.Ay.error(e.message),console.error("There was a problem with the delete operation:",e)}},i=async(r,t)=>{try{let a=new FormData;a.append("role",t);let n=await fetch(`/api/users/${r}`,{method:"PUT",body:a});if(400===n.status)return o.Ay.error("Maximum of 5 admin accounts allowed");if(!n.ok)return o.Ay.error("Network response was not ok");n.ok&&(s(e.map(e=>e._id===r?{...e,role:t}:e)),o.Ay.success("Role updated successfully!"))}catch(e){console.error("There was a problem with the update operation:",e),o.Ay.error(e.message)}};return(0,t.jsx)("div",{className:"bg-white max-w-[1050px] min-h-[60vh] p-4 lg:p-8 rounded-lg shadow-md mt-8",children:(0,t.jsxs)(n.XI,{className:"",children:[(0,t.jsx)(n.d8,{children:(0,t.jsxs)(n.Tr,{className:"text-left border-b border-gray-200 !py-4",children:[(0,t.jsx)(n.Th,{className:"py-2",children:"Name"}),(0,t.jsx)(n.Th,{className:"py-2",children:"Email"}),(0,t.jsx)(n.Th,{className:"py-2",children:"Role"}),(0,t.jsx)(n.Th,{className:"py-2",children:"Access"}),(0,t.jsx)(n.Th,{className:"py-2",children:"Action"})]})}),(0,t.jsx)(n.NN,{children:e?.map(e=>(0,t.jsxs)(n.Tr,{children:[(0,t.jsx)(n.Td,{className:"py-2",children:e.name}),(0,t.jsx)(n.Td,{className:"py-2",children:e.email}),(0,t.jsx)(n.Td,{className:"py-2",children:e.role}),(0,t.jsx)(n.Td,{className:"py-2",children:(0,t.jsxs)("select",{onChange:s=>i(e._id,s.target.value),defaultValue:e.role,children:[(0,t.jsx)("option",{value:"user",children:"User"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})}),(0,t.jsx)(n.Td,{className:"py-2",children:(0,t.jsx)("button",{onClick:()=>r(e._id),className:"text-red-500 cursor-pointer",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{fill:"currentColor",d:"M10 5h4a2 2 0 1 0-4 0M8.5 5a3.5 3.5 0 1 1 7 0h5.75a.75.75 0 0 1 0 1.5h-1.32l-1.17 12.111A3.75 3.75 0 0 1 15.026 22H8.974a3.75 3.75 0 0 1-3.733-3.389L4.07 6.5H2.75a.75.75 0 0 1 0-1.5zm2 4.75a.75.75 0 0 0-1.5 0v7.5a.75.75 0 0 0 1.5 0zM14.25 9a.75.75 0 0 0-.75.75v7.5a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75"})})})})]},e._id))})]})})}r(68968)},79551:e=>{"use strict";e.exports=require("url")},90298:(e,s,r)=>{Promise.resolve().then(r.bind(r,64696))}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,3740,4553,6994,2238,1675],()=>r(53032));module.exports=t})();