(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6585],{1741:(e,t,r)=>{Promise.resolve().then(r.bind(r,5965))},3886:()=>{},5965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(5155),a=r(2115),o=r(3568),l=r(7059);function c(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/subscriber");if(!e.ok)throw Error("Network response was not ok");let r=await e.json();t(r),console.log(r)}catch(e){console.error("There was a problem with the fetch operation:",e)}})()},[]);let r=async r=>{if(confirm("Are you sure you want to delete this item?"))try{if(!(await fetch("/api/subscriber/".concat(r),{method:"DELETE"})).ok)throw Error("Network response was not ok");t(e.filter(e=>e._id!==r)),o.Ay.success("Subscriber deleted successfully!")}catch(e){o.Ay.error(e.message),console.error("There was a problem with the delete operation:",e)}};return(0,n.jsx)("div",{className:"bg-white max-w-[1050px] min-h-[60vh] p-4 lg:p-8 rounded-lg shadow-md mt-8",children:(0,n.jsxs)(l.XI,{className:"",children:[(0,n.jsx)(l.d8,{children:(0,n.jsxs)(l.Tr,{className:"text-left border-b border-gray-200 !py-4",children:[(0,n.jsx)(l.Th,{className:"py-2",children:"SL"}),(0,n.jsx)(l.Th,{className:"py-2",children:"Subscribed Email"}),(0,n.jsx)(l.Th,{className:"py-2",children:"Action"})]})}),(0,n.jsx)(l.NN,{children:null==e?void 0:e.map((e,t)=>(0,n.jsxs)(l.Tr,{children:[(0,n.jsxs)(l.Td,{className:"py-2",children:["#",t+1]}),(0,n.jsx)(l.Td,{className:"py-2",children:e.email}),(0,n.jsx)(l.Td,{className:"py-2",children:(0,n.jsx)("button",{onClick:()=>r(e._id),className:"text-red-500 cursor-pointer",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{fill:"currentColor",d:"M10 5h4a2 2 0 1 0-4 0M8.5 5a3.5 3.5 0 1 1 7 0h5.75a.75.75 0 0 1 0 1.5h-1.32l-1.17 12.111A3.75 3.75 0 0 1 15.026 22H8.974a3.75 3.75 0 0 1-3.733-3.389L4.07 6.5H2.75a.75.75 0 0 1 0-1.5zm2 4.75a.75.75 0 0 0-1.5 0v7.5a.75.75 0 0 0 1.5 0zM14.25 9a.75.75 0 0 0-.75.75v7.5a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75"})})})})]},e._id))})]})})}r(3886)},7059:(e,t,r)=>{"use strict";r.d(t,{XI:()=>d,NN:()=>f,Td:()=>b,Th:()=>O,d8:()=>j,Tr:()=>P});var n=r(2115),a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},o=function(e){return e.inHeader,e.columnKey,e.headers,e.forwardedRef,a(e,["inHeader","columnKey","headers","forwardedRef"])},l=(0,n.createContext)(void 0);function c(e){var t=e.children,r=(0,n.useState)([]),a=r[0],o=r[1],c=(0,n.useMemo)(function(){return{headers:a,setHeaders:o}},[a]);return n.createElement(l.Provider,{value:c},t)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},u=(0,n.forwardRef)(function(e,t){var r=e.className,a=i(e,["className"]);return n.createElement("table",s({"data-testid":"table"},o(a),{className:"".concat(r||""," responsiveTable"),ref:t}))});u.displayName="Table";let d=function(e){return n.createElement(c,null,n.createElement(u,s({},e)))};var h=function(){return(h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};let f=function(e){return n.createElement("tbody",h({"data-testid":"tbody"},o(e)))};var p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};let y=function(e){var t=e.headers,r=e.children,a=e.columnKey,l=e.className;return e.colSpan?n.createElement("td",p({"data-testid":"td"},o(e))):n.createElement("td",p({"data-testid":"td"},o(e),{className:"".concat(l||""," pivoted")}),n.createElement("div",{"data-testid":"td-before",className:"tdBefore"},t[a]),null!=r?r:n.createElement("div",null,"\xa0"))};var m=function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};let b=function(e){var t=(0,n.useContext)(l);if(!t)throw Error("Td must be used as a child of the Table component");var r=t.headers;return n.createElement(y,m({},e,{headers:r}))};var v=function(){return(v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};let O=function(e){return n.createElement("th",v({"data-testid":"th"},o(e)))};var w=function(){return(w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};let j=function(e){var t=e.children;return n.createElement("thead",w({"data-testid":"thead"},o(e)),n.cloneElement(t,{inHeader:!0}))};var g=function(){return(g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},E=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},x=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};let N=function(e){var t=e.children,r=e.inHeader,a=E(e,["children","inHeader"]),c=(0,n.useContext)(l);if(!c)throw Error("TrInner must be used as a child of the Table component");var s=c.setHeaders,i=c.headers;return(0,n.useEffect)(function(){if(r){var e=x([],i,!0);n.Children.forEach(t,function(t,r){n.isValidElement(t)&&(e[r]=t.props.children)}),s(e)}},[r,t]),n.createElement("tr",g({"data-testid":"tr"},o(a)),t&&n.Children.map(t,function(e,t){return n.isValidElement(e)?n.cloneElement(e,{key:t,columnKey:t}):null}))};var T=function(){return(T=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};let P=function(e){var t=(0,n.useContext)(l);if(!t)throw Error("Tr must be used as a child of the Table component");var r=t.headers;return n.createElement(N,T({},e,{headers:r}))}}},e=>{var t=t=>e(e.s=t);e.O(0,[2231,3568,8441,9303,7358],()=>t(1741)),_N_E=e.O()}]);