(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8359],{6112:(e,t,a)=>{Promise.resolve().then(a.bind(a,8382))},7234:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(5155);function r(e){let{className:t,name:a,...r}=e;return(0,i.jsx)("button",{className:"bg-gold hover:bg-deepGold transition-colors duration-300 text-[1.1rem] md:text-lg lg:text-xl px-6 py-2 rounded-md cursor-pointer  ".concat(t),...r,children:a})}},8382:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var i=a(5155),r=a(7234),s=a(7129);let n=["image/jpg","image/jpeg","image/png"],d=s.Ik({clientName:s.Yj().min(0).required("Client name is required"),clientPosition:s.Yj().min(0).required("Client position is required"),rating:s.ai().required("Rating is required").min(1,"Rating must be at least 1").max(5,"Rating can't be more than 5"),feedback:s.Yj().required("Feedback is required").min(5,"feedback must be at least 5 character"),image:s.gl().required("Image is required").test("fileType","Unsupported File Format",e=>e&&e[0]&&n.includes(e[0].type)).test("fileSize","File too large",e=>e&&e[0]&&e[0].size<=1048576)}).required();var l=a(2461),c=a(2115),o=a(2177),m=a(3568);function u(){let[e,t]=(0,c.useState)(!1),{reset:a,register:s,handleSubmit:n,formState:{errors:u}}=(0,o.mN)({defaultValues:{clientName:"",clientPosition:"",rating:"",feedback:"",image:null},resolver:(0,l.t)(d)}),g=async e=>{let i=new FormData;i.append("clientName",e.clientName),i.append("clientPosition",e.clientPosition),i.append("rating",e.rating),i.append("feedback",e.feedback),e.image&&e.image.length>0&&i.append("image",e.image[0]),t(!0);try{let e=await fetch("/api/feedback",{method:"POST",body:i});await e.json()&&(a(),m.Ay.success("Feedback added successfully!")),t(!1)}catch(e){t(!1),console.log(e),m.Ay.error(null==e?void 0:e.message)}};return(0,i.jsxs)("div",{className:"mt-14 md:w-[70%] xl:w-[50%] mx-auto",children:[(0,i.jsx)("h1",{className:"font-bold text-3xl mb-6",children:"Admin CMS Panel"}),(0,i.jsxs)("div",{className:"custom-shadow border border-gray-300 px-8 py-10 rounded-lg",children:[(0,i.jsx)("h1",{className:"font-semibold text-2xl",children:"Client Feedback"}),(0,i.jsxs)("form",{onSubmit:n(g),className:"grid grid-cols-1 gap-y-8 mt-6",action:"#",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",className:"border  p-4 rounded-md w-full focus:outline-none ".concat(u.clientName?"border-red-500":"border-gray-300"),placeholder:"Client Name",...s("clientName")}),u.clientName&&(0,i.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:u.clientName.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",className:"border  p-4 rounded-md w-full focus:outline-none ".concat(u.clientPosition?"border-red-500":"border-gray-300"),placeholder:"Client Position",...s("clientPosition")}),u.clientPosition&&(0,i.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:u.clientPosition.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",className:"border  p-4 rounded-md w-full focus:outline-none ".concat(u.rating?"border-red-500":"border-gray-300"),placeholder:"Rating * * *",...s("rating")}),u.rating&&(0,i.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:u.rating.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("textarea",{placeholder:"Feedback",className:"border border-gray-300 w-full focus:outline-0 rounded-md p-3 min-h-24 focus:outline-none ".concat(u.feedback?"border-red-500":"border-gray-300"),...s("feedback")}),u.feedback&&(0,i.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:u.feedback.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"file",className:"border  p-4 rounded-md accent-amber-50 w-fit focus:outline-none ".concat(u.image?"border-red-500":"border-gray-300"),...s("image"),accept:"image/jpg, image/jpeg, image/png"}),u.image&&(0,i.jsx)("p",{className:"text-red-500 text-sm mt-1 ml-1",children:u.image.message})]}),(0,i.jsx)(r.A,{className:"w-full mt-2 text-white !bg-blue-600",name:e?"submiting...":"Submit"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3568,6757,8441,9303,7358],()=>t(6112)),_N_E=e.O()}]);